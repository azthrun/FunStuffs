require 'rho'
require 'rho/rhocontroller'
require 'rho/rhoerror'
require 'helpers/browser_helper'
require 'helpers/web_request_helper'

class SettingsController < Rho::RhoController
  include BrowserHelper
  include WebRequestHelper
  
  def setup
    render
  end
  
  def home
    @workers = Miner.find(:all)
    @panel = Settings.panelOverall
    render
  end
  
  def wait
    @mode = @params["mode"]
    case @mode
    when Settings::WAITFOR_SETUP then @msg = "Downloading Information"
    when Settings::WAITFOR_CONFIG then @msg = "Configure Miner Watcher"
    end
    render
  end

  def storePanelId
    panelId = @params["panelId"]
    Settings.set(Settings::PANELID, panelId)
    render :layout => false
  end
  
end
